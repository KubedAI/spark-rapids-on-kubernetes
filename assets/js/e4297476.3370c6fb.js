"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[897],{4117:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>p,frontMatter:()=>i,metadata:()=>o,toc:()=>d});var s=t(4848),r=t(8453);const i={sidebar_position:1,sidebar_label:"Installation"},l="\ud83d\ude80 Deploying Apache Spark RAPIDS on Amazon EKS",o={id:"Deployment/installation",title:"\ud83d\ude80 Deploying Apache Spark RAPIDS on Amazon EKS",description:"This guide provides instructions to deploy Apache Spark RAPIDS on an Amazon EKS Cluster using Terraform. The Terraform configuration will provision an EKS cluster, install necessary add-ons, and configure Karpenter for autoscaling. Spark RAPIDS will be installed for GPU acceleration on the cluster.",source:"@site/docs/Deployment/installation.md",sourceDirName:"Deployment",slug:"/Deployment/installation",permalink:"/spark-rapids-on-kubernetes/docs/Deployment/installation",draft:!1,unlisted:!1,editUrl:"https://github.com/Kube-dAI/spark-rapids-on-kubernetes/tree/main/packages/create-spark-rapids-on-kubernetes/templates/shared/docs/Deployment/installation.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,sidebar_label:"Installation"},sidebar:"docSidebar",previous:{title:"Deployment",permalink:"/spark-rapids-on-kubernetes/docs/category/deployment"},next:{title:"Cleanup",permalink:"/spark-rapids-on-kubernetes/docs/Deployment/cleanup"}},a={},d=[{value:"Prerequisites \ud83d\udccb",id:"prerequisites-",level:2},{value:"Deployment Steps \ud83d\udda5\ufe0f",id:"deployment-steps-\ufe0f",level:2},{value:"Verifying the Deployment \u2705",id:"verifying-the-deployment-",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"-deploying-apache-spark-rapids-on-amazon-eks",children:"\ud83d\ude80 Deploying Apache Spark RAPIDS on Amazon EKS"})}),"\n",(0,s.jsx)(n.p,{children:"This guide provides instructions to deploy Apache Spark RAPIDS on an Amazon EKS Cluster using Terraform. The Terraform configuration will provision an EKS cluster, install necessary add-ons, and configure Karpenter for autoscaling. Spark RAPIDS will be installed for GPU acceleration on the cluster."}),"\n",(0,s.jsx)(n.h2,{id:"prerequisites-",children:"Prerequisites \ud83d\udccb"}),"\n",(0,s.jsx)(n.p,{children:"Before deploying, ensure the following prerequisites are met."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Install ",(0,s.jsx)(n.a,{href:"https://docs.aws.amazon.com/cli/latest/userguide/getting-started-install.html",children:"AWS CLI"})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Install ",(0,s.jsx)(n.a,{href:"https://developer.hashicorp.com/terraform/install",children:"Terraform"})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Install ",(0,s.jsx)(n.a,{href:"https://docs.aws.amazon.com/eks/latest/userguide/install-kubectl.html",children:"kubectl"})," to interact with the Kubernetes cluster"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Install ",(0,s.jsx)(n.a,{href:"https://helm.sh/docs/intro/install/",children:"Helm"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"deployment-steps-\ufe0f",children:"Deployment Steps \ud83d\udda5\ufe0f"}),"\n",(0,s.jsx)(n.p,{children:"Follow the below steps to create your EKS cluster with all the necessary addons."}),"\n",(0,s.jsx)(n.p,{children:"Step 1: Clone the Repository \ud83d\udcc2"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"git clone https://github.com/KubedAI/spark-rapids-on-kubernetes.git\ncd spark-rapids-on-kubernetes/infra/aws/terraform\n"})}),"\n",(0,s.jsx)(n.p,{children:"Step 2: Configure Terraform Backend \u2699\ufe0f"}),"\n",(0,s.jsxs)(n.p,{children:["By default, the blueprint uses the latest and greates EKS version 1.31 and ",(0,s.jsx)(n.code,{children:"us-west-2"})," as the default region."]}),"\n",(0,s.jsxs)(n.p,{children:["You can customize the terraform configuration that comes pre-built with this blueprint. Update the ",(0,s.jsx)(n.code,{children:"variables.tf"})," file to use a different EKS version, AWS region and other parameters."]}),"\n",(0,s.jsx)(n.p,{children:"Step 3: Initialize and Apply Terraform \ud83d\ude80"}),"\n",(0,s.jsxs)(n.p,{children:["To install the EKS cluster with all the addons in one step, run the below commands. The ",(0,s.jsx)(n.code,{children:"install.sh"})," script wraps the ",(0,s.jsx)(n.code,{children:"terraform init"})," and deploys the terraform modules as targets with ",(0,s.jsx)(n.code,{children:"terraform apply"}),"."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"cd spark-rapids-on-kubernetes/scripts\nchmod +x install.sh\n./install.sh\n"})}),"\n",(0,s.jsx)(n.h2,{id:"verifying-the-deployment-",children:"Verifying the Deployment \u2705"}),"\n",(0,s.jsx)(n.p,{children:"To verify the status of the EKS cluster and the resources, run the below commands."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"kubectl get nodes\n\nkubectl get po -A\n\n"})})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>l,x:()=>o});var s=t(6540);const r={},i=s.createContext(r);function l(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);